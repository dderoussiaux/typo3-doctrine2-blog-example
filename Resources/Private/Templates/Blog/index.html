<f:layout name="default" />
<f:section name="mainbox">

	<f:for each="{flashMessages}" as="message">
		<p class="tx-extbase-flash-message"><strong>{message}</strong></p>
	</f:for>

	<p class="bodytext">Welcome to the Blog Example! This installation serves as a demonstration for
	basic development techniques used in Extbase/FLOW3 applications. Please
	note that this example might be not fully functional at certain times
	because we're continuously working on it and it has not yet been
	officially released.</p>
	<ul>
		<f:if condition="{blogs}">
			<f:then>
				<p class="bodytext">Here is a list of blogs:</p>
				<ul>
					<f:for each="{blogs}" as="blog">
						<li>
						<h3><f:link.action action="index" controller="Post"
							arguments="{blog : blog}">{blog.title} (<f:count subject="{blog.posts}" />)</f:link.action></h3>
						<p><f:format.nl2br>{blog.description} </f:format.nl2br><f:link.action
							action="edit" controller="Blog" arguments="{blog : blog}">Edit</f:link.action>
						<f:link.action action="delete" controller="Blog"
							arguments="{blog : blog}">Delete</f:link.action></p>
						</li>
					</f:for>
				</ul>
				<p><f:link.action action="new">Create another blog</f:link.action></p>
				<p><f:link.action action="populate">Create example data</f:link.action></p>
				<p><f:link.action action="deleteAll">Delete all Blogs [!!!]</f:link.action></p>
			</f:then>
			<f:else>
				<p><strong><f:link.action action="new">Create your first blog</f:link.action></strong></p>
				<p><f:link.action action="populate">Create example data</f:link.action></p>
			</f:else>
		</f:if>
	</ul>
</f:section>
